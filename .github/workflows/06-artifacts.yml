name: 06 - Artifacts Demo

on:
    workflow_dispatch:

jobs:
    create-artifact:
        runs-on: ubuntu-latest
        steps:
            - name: ðŸ“ Create files
              run: |
                  mkdir -p output
                  echo "Build output content" > output/build.txt
                  echo '{"version": "1.0.0"}' > output/metadata.json
                  date > output/timestamp.txt

            - name: ðŸ“¤ Upload artifact
              uses: actions/upload-artifact@v4
              with:
                  name: build-output
                  path: output/
                  retention-days: 5

    use-artifact:
        needs: create-artifact
        runs-on: ubuntu-latest
        steps:
            - name: ðŸ“¥ Download artifact
              uses: actions/download-artifact@v4
              with:
                  name: build-output
                  path: downloaded/

            - name: ðŸ“‹ Show contents
              run: |
                  ls -la downloaded/
                  cat downloaded/build.txt
                  cat downloaded/metadata.json
